(this["webpackJsonpflex-wallboard"]=this["webpackJsonpflex-wallboard"]||[]).push([[0],{255:function(e,t,a){e.exports=a(556)},260:function(e,t,a){},283:function(e,t){},307:function(e,t){},351:function(e,t){},353:function(e,t){},362:function(e,t){},364:function(e,t){},389:function(e,t){},390:function(e,t){},395:function(e,t){},397:function(e,t){},404:function(e,t){},423:function(e,t){},462:function(e,t){},556:function(e,t,a){"use strict";a.r(t);var n,i=a(2),s=a.n(i),o=a(246),c=a.n(o),r=(a(260),a(247)),l=a(248),m=a(252),u=a(251),d=a(577),g=a(575),v=a(579),p=a(576),h=a(578),w=a(249),f=a.n(w),k=a(145),E=a.n(k),_=window.location.origin,S=new Date,b=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={callsWaiting:"-",longestWaiting:"-",reservationsAccepted:"-",tasksCanceled:"-",averageSpeedToAnswer:"-",loggedinAgents:"-",updateTime:S.toTimeString()},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){window.location.reload()}),36e5),setTimeout((function(){E.a.post("".concat(_,"/dashboardStats")),console.log("fetching...")}),5e3),fetch("".concat(_,"/syncToken")).then((function(e){return e.json()})).then((function(t){new f.a(t.token).document("dashboardStats").then((function(t){var a=t.value,n=a.workspace_statistics.realtime.tasks_by_status.pending,i=a.workspace_statistics.realtime.longest_task_waiting_age,s=a.workspace_statistics.cumulative.reservations_accepted,o=a.workspace_statistics.cumulative.tasks_canceled,c=a.workspace_statistics.cumulative.avg_task_acceptance_time,r=a.workspace_statistics.realtime.total_workers-a.workspace_statistics.realtime.activity_statistics[2].workers,l=new Date(a.workspace_statistics.cumulative.end_time).toTimeString(),m=new Date(null);m.setSeconds(i);var u=new Date(null);u.setSeconds(c),e.setState({callsWaiting:n,longestWaiting:m.toISOString().substr(14,5),reservationsAccepted:s,tasksCanceled:o,averageSpeedToAnswer:u.toISOString().substr(14,5),loggedinAgents:r,updateTime:l}),t.on("updated",(function(t){console.log("Received Document update event. New value:",t.value);var a=t.value,n=a.workspace_statistics.realtime.tasks_by_status.pending,i=a.workspace_statistics.realtime.longest_task_waiting_age,s=a.workspace_statistics.cumulative.reservations_accepted,o=a.workspace_statistics.cumulative.tasks_canceled,c=a.workspace_statistics.cumulative.avg_task_acceptance_time,r=a.workspace_statistics.realtime.total_workers-a.workspace_statistics.realtime.activity_statistics[2].workers,l=new Date(a.workspace_statistics.cumulative.end_time).toTimeString(),m=new Date(null);m.setSeconds(i);var u=new Date(null);u.setSeconds(c),e.setState({callsWaiting:n,longestWaiting:m.toISOString().substr(14,5),reservationsAccepted:s,tasksCanceled:o,averageSpeedToAnswer:u.toISOString().substr(14,5),loggedinAgents:r,updateTime:l})}))}))}))}},{key:"componentDidUpdate",value:function(){clearTimeout(n),n=setTimeout((function(){E.a.post("".concat(_,"/dashboardStats")),console.log("fetching...")}),3e4)}},{key:"render",value:function(){var e=this.props.classes;return s.a.createElement("div",{className:e.root},s.a.createElement("div",{className:e.header},s.a.createElement(h.a,{className:e.header,gutterBottom:!0},"Service Desk Phone Queue")),s.a.createElement("div",{className:e.container},s.a.createElement(g.a,{container:!0,spacing:8},s.a.createElement(g.a,{container:!0,item:!0,xs:12,spacing:8},s.a.createElement(g.a,{item:!0,xs:4},s.a.createElement(v.a,{className:e.card,variant:"outlined"},s.a.createElement(p.a,null,s.a.createElement(h.a,{className:e.title,color:"textSecondary",gutterBottom:!0},"Calls Waiting"),s.a.createElement(h.a,{variant:"h1",component:"h2",align:"center"},this.state.callsWaiting)))),s.a.createElement(g.a,{item:!0,xs:4},s.a.createElement(v.a,{className:e.card,variant:"outlined"},s.a.createElement(p.a,null,s.a.createElement(h.a,{className:e.title,color:"textSecondary",gutterBottom:!0},"Longest Waiting Call (HH:MM:SS)"),s.a.createElement(h.a,{variant:"h1",component:"h2",align:"center"},this.state.longestWaiting)))),s.a.createElement(g.a,{item:!0,xs:4},s.a.createElement(v.a,{className:e.card,variant:"outlined"},s.a.createElement(p.a,null,s.a.createElement(h.a,{className:e.title,color:"textSecondary",gutterBottom:!0},"Agents Logged In"),s.a.createElement(h.a,{variant:"h1",component:"h2",align:"center"},this.state.loggedinAgents))))),s.a.createElement(g.a,{container:!0,item:!0,xs:12,spacing:8},s.a.createElement(g.a,{item:!0,xs:4},s.a.createElement(v.a,{className:e.card,variant:"outlined"},s.a.createElement(p.a,null,s.a.createElement(h.a,{className:e.title,color:"textSecondary",gutterBottom:!0},"Answered Calls"),s.a.createElement(h.a,{variant:"h1",component:"h2",align:"center"},this.state.reservationsAccepted)))),s.a.createElement(g.a,{item:!0,xs:4},s.a.createElement(v.a,{className:e.card,variant:"outlined"},s.a.createElement(p.a,null,s.a.createElement(h.a,{className:e.title,color:"textSecondary",gutterBottom:!0},"Abandoned Calls"),s.a.createElement(h.a,{variant:"h1",component:"h2",align:"center"},this.state.tasksCanceled)))),s.a.createElement(g.a,{item:!0,xs:4},s.a.createElement(v.a,{className:e.card,variant:"outlined"},s.a.createElement(p.a,null,s.a.createElement(h.a,{className:e.title,color:"textSecondary",gutterBottom:!0},"Average Speed to Answer (HH:MM:SS)"),s.a.createElement(h.a,{variant:"h1",component:"h2",align:"center"},this.state.averageSpeedToAnswer))))))),s.a.createElement("div",{className:e.footer},s.a.createElement(h.a,{className:e.footer,gutterBottom:!0},"Last updated at: ",this.state.updateTime)))}}]),a}(i.Component),x=Object(d.a)((function(e){return{root:{flexGrow:1,background:"whitesmoke",minHeight:"100vh"},header:{flexGrow:1,maxHeight:"12vh",minHeight:"12vh",minWidth:"100vw",position:"absolute",top:0,background:"#263962",color:"white",fontSize:50,textAlign:"center",paddingTop:"3vh"},footer:{flexGrow:1,maxHeight:"7vh",minHeight:"7vh",minWidth:"100vw",position:"absolute",bottom:0,background:"#263962",color:"white",fontSize:30,textAlign:"center",paddingTop:"3vh"},container:{flexGrow:1,maxHeight:"75vh",maxWidth:"80vw",minWidth:"80vw",position:"absolute",left:"10vw",top:"25vh"},card:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:20},pos:{marginBottom:12}}}))(b);var A=function(){return s.a.createElement(x,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[255,1,2]]]);
//# sourceMappingURL=main.fe1b161c.chunk.js.map